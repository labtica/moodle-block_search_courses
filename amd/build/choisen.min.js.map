{"version":3,"sources":["../src/choisen.js"],"names":["define","$","AbstractChosen","Chosen","SelectParser","bind","fn","me","apply","arguments","extend","child","parent","key","hasProp","call","ctor","constructor","prototype","__super__","hasOwnProperty","options_index","parsed","add_node","nodeName","toUpperCase","add_group","add_option","group","group_position","i","len","option","ref","results1","length","push","array_index","label","title","children","disabled","classes","className","childNodes","group_disabled","text","value","html","innerHTML","selected","group_array_index","group_label","style","cssText","empty","select_to_array","select","parser","form_field","options1","options","label_click_handler","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","on_ready","click_test_action","_this","evt","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","is_rtl","rtl","test","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","group_search","search_contains","single_backstroke_delete","max_selected_options","inherit_select_classes","display_selected_options","display_disabled_options","include_group_label_in_selected","max_shown_results","Number","POSITIVE_INFINITY","case_sensitive_search","hide_results_on_select","getAttribute","default_text","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","escape_html","results_none_found","no_results_text","default_no_result_text","choice_label","item","mouse_enter","mouse_leave","input_focus","setTimeout","container_mousedown","input_blur","blur_test","results_option_build","content","data","data_content","shown_results","results_data","result_add_group","result_add_option","first","choice_build","single_set_selected_text","option_el","search_match","include_option_in_results","document","createElement","join","setAttribute","highlighted_html","outerHTML","group_el","group_match","active_options","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","winnow_results","reset_single_select_options","result","results_toggle","results_hide","results_show","results_search","escapedQuery","fix","prefix","query","regex","results","results_group","startpos","suffix","no_results_clear","get_search_text","replace","get_search_regex","search_string_match","index","slice","update_results_content","no_results","skip_highlight","winnow_results_set_highlight","escaped_search_string","regex_flag","regex_string","RegExp","search_string","match","exec","choices_count","selected_option_count","choices_click","preventDefault","is_disabled","keydown_checker","stroke","which","keyCode","search_field_scale","pending_backstroke","clear_backstroke","backstroke_length","get_search_field_value","result_select","keyup_arrow","keydown_arrow","keyup_checker","keydown_backstroke","clipboard_event_checker","container_width","width","offsetWidth","search_results_touchstart","touch_started","search_results_mouseover","search_results_touchmove","search_results_mouseout","search_results_touchend","search_results_mouseup","element","tmp","appendChild","get_single_html","get_multi_html","get_no_results_html","terms","window","navigator","appName","documentMode","userAgent","jQuery","chosen","each","$this","destroy","superClass","form_field_jq","current_selectedIndex","selectedIndex","container_classes","container_props","id","container","hide","after","dropdown","find","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","trigger","on","container_mouseup","search_results_mousewheel","close_field","ownerDocument","off","form_field_label","tabIndex","remove","removeData","show","search_field_disabled","parents","is","toggleClass","type","target","hasClass","val","results_reset","delta","originalEvent","deltaY","wheelDelta","detail","scrollTop","removeClass","show_search_field_default","blur","addClass","focus","active_container","closest","parsing","readOnly","result_do_highlight","el","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","parseInt","css","position","top","outerHeight","ti","choice","close_link","choice_destroy_link_click","append","before","stopPropagation","choice_destroy","link","result_deselect","trigger_form_field_change","high","metaKey","ctrlKey","single_deselect_control_build","pos","result_data","deselected","trim","do_high","selected_results","no_results_html","next_sib","nextAll","prev_sibs","prevAll","next_available_destroy","siblings","last","div","style_block","styles","left","display","whiteSpace","Math","min","outerWidth","extra"],"mappings":"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","sourcesContent":["/**\n * @upgrade\n * @author Escueladidactica \n * <p>\n *  we did not own the code, it was simply used as a base to implement it in amd moodle\n * </p>\n*/\n\n/*!\n\nChosen, a Select Box Enhancer for jQuery and Prototype\nby Patrick Filler for Harvest, http://getharvest.com\n\nVersion 1.8.7\nFull source at https://github.com/harvesthq/chosen\nCopyright (c) 2011-2018 Harvest http://getharvest.com\n\nMIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md\nThis file is generated by `grunt build`, do not edit it by hand.\n*/\n\ndefine([\n    'jquery'\n], function($) {\n    'use strict';\n    (function(){\n\t\tvar $, AbstractChosen, Chosen, SelectParser,\n\t\tbind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n\t\textend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n\t\thasProp = {}.hasOwnProperty;\n\n\t\tSelectParser = (function() {\n\t\t\tfunction SelectParser() {\n\t\t\tthis.options_index = 0;\n\t\t\tthis.parsed = [];\n\t\t\t}\n\n\t\tSelectParser.prototype.add_node = function(child) {\n\t\tif (child.nodeName.toUpperCase() === \"OPTGROUP\") {\n\t\t\treturn this.add_group(child);\n\t\t} else {\n\t\t\treturn this.add_option(child);\n\t\t}\n\t\t};\n\n\t\tSelectParser.prototype.add_group = function(group) {\n\t\tvar group_position, i, len, option, ref, results1;\n\t\tgroup_position = this.parsed.length;\n\t\tthis.parsed.push({\n\t\t\tarray_index: group_position,\n\t\t\tgroup: true,\n\t\t\tlabel: group.label,\n\t\t\ttitle: group.title ? group.title : void 0,\n\t\t\tchildren: 0,\n\t\t\tdisabled: group.disabled,\n\t\t\tclasses: group.className\n\t\t});\n\t\tref = group.childNodes;\n\t\tresults1 = [];\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\t\toption = ref[i];\n\t\t\tresults1.push(this.add_option(option, group_position, group.disabled));\n\t\t}\n\t\treturn results1;\n\t\t};\n\n\t\tSelectParser.prototype.add_option = function(option, group_position, group_disabled) {\n\t\tif (option.nodeName.toUpperCase() === \"OPTION\") {\n\t\t\tif (option.text !== \"\") {\n\t\t\tif (group_position != null) {\n\t\t\t\tthis.parsed[group_position].children += 1;\n\t\t\t}\n\t\t\tthis.parsed.push({\n\t\t\t\tarray_index: this.parsed.length,\n\t\t\t\toptions_index: this.options_index,\n\t\t\t\tvalue: option.value,\n\t\t\t\ttext: option.text,\n\t\t\t\thtml: option.innerHTML,\n\t\t\t\ttitle: option.title ? option.title : void 0,\n\t\t\t\tselected: option.selected,\n\t\t\t\tdisabled: group_disabled === true ? group_disabled : option.disabled,\n\t\t\t\tgroup_array_index: group_position,\n\t\t\t\tgroup_label: group_position != null ? this.parsed[group_position].label : null,\n\t\t\t\tclasses: option.className,\n\t\t\t\tstyle: option.style.cssText\n\t\t\t});\n\t\t\t} else {\n\t\t\tthis.parsed.push({\n\t\t\t\tarray_index: this.parsed.length,\n\t\t\t\toptions_index: this.options_index,\n\t\t\t\tempty: true\n\t\t\t});\n\t\t\t}\n\t\t\treturn this.options_index += 1;\n\t\t}\n\t\t};\n\n\t\treturn SelectParser;\n\n\t})();\n\n\tSelectParser.select_to_array = function(select) {\n\t\tvar child, i, len, parser, ref;\n\t\tparser = new SelectParser();\n\t\tref = select.childNodes;\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\tchild = ref[i];\n\t\tparser.add_node(child);\n\t\t}\n\t\treturn parser.parsed;\n\t};\n\n\tAbstractChosen = (function() {\n\t\tfunction AbstractChosen(form_field, options1) {\n\t\tthis.form_field = form_field;\n\t\tthis.options = options1 != null ? options1 : {};\n\t\tthis.label_click_handler = bind(this.label_click_handler, this);\n\t\tif (!AbstractChosen.browser_is_supported()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.is_multiple = this.form_field.multiple;\n\t\tthis.set_default_text();\n\t\tthis.set_default_values();\n\t\tthis.setup();\n\t\tthis.set_up_html();\n\t\tthis.register_observers();\n\t\tthis.on_ready();\n\t\t}\n\n\t\tAbstractChosen.prototype.set_default_values = function() {\n\t\tthis.click_test_action = (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\treturn _this.test_active_click(evt);\n\t\t\t};\n\t\t})(this);\n\t\tthis.activate_action = (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\treturn _this.activate_field(evt);\n\t\t\t};\n\t\t})(this);\n\t\tthis.active_field = false;\n\t\tthis.mouse_on_container = false;\n\t\tthis.results_showing = false;\n\t\tthis.result_highlighted = null;\n\t\tthis.is_rtl = this.options.rtl || /\\bchosen-rtl\\b/.test(this.form_field.className);\n\t\tthis.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\n\t\tthis.disable_search_threshold = this.options.disable_search_threshold || 0;\n\t\tthis.disable_search = this.options.disable_search || false;\n\t\tthis.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\n\t\tthis.group_search = this.options.group_search != null ? this.options.group_search : true;\n\t\tthis.search_contains = this.options.search_contains || false;\n\t\tthis.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\n\t\tthis.max_selected_options = this.options.max_selected_options || Infinity;\n\t\tthis.inherit_select_classes = this.options.inherit_select_classes || false;\n\t\tthis.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\n\t\tthis.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\n\t\tthis.include_group_label_in_selected = this.options.include_group_label_in_selected || false;\n\t\tthis.max_shown_results = this.options.max_shown_results || Number.POSITIVE_INFINITY;\n\t\tthis.case_sensitive_search = this.options.case_sensitive_search || false;\n\t\treturn this.hide_results_on_select = this.options.hide_results_on_select != null ? this.options.hide_results_on_select : true;\n\t\t};\n\n\t\tAbstractChosen.prototype.set_default_text = function() {\n\t\tif (this.form_field.getAttribute(\"data-placeholder\")) {\n\t\t\tthis.default_text = this.form_field.getAttribute(\"data-placeholder\");\n\t\t} else if (this.is_multiple) {\n\t\t\tthis.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\n\t\t} else {\n\t\t\tthis.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\n\t\t}\n\t\tthis.default_text = this.escape_html(this.default_text);\n\t\treturn this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\n\t\t};\n\n\t\tAbstractChosen.prototype.choice_label = function(item) {\n\t\tif (this.include_group_label_in_selected && (item.group_label != null)) {\n\t\t\treturn \"<b class='group-name'>\" + (this.escape_html(item.group_label)) + \"</b>\" + item.html;\n\t\t} else {\n\t\t\treturn item.html;\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.mouse_enter = function() {\n\t\treturn this.mouse_on_container = true;\n\t\t};\n\n\t\tAbstractChosen.prototype.mouse_leave = function() {\n\t\treturn this.mouse_on_container = false;\n\t\t};\n\n\t\tAbstractChosen.prototype.input_focus = function(evt) {\n\t\tif (this.is_multiple) {\n\t\t\tif (!this.active_field) {\n\t\t\treturn setTimeout(((function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\treturn _this.container_mousedown();\n\t\t\t\t};\n\t\t\t})(this)), 50);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.active_field) {\n\t\t\treturn this.activate_field();\n\t\t\t}\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.input_blur = function(evt) {\n\t\tif (!this.mouse_on_container) {\n\t\t\tthis.active_field = false;\n\t\t\treturn setTimeout(((function(_this) {\n\t\t\treturn function() {\n\t\t\t\treturn _this.blur_test();\n\t\t\t};\n\t\t\t})(this)), 100);\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.label_click_handler = function(evt) {\n\t\tif (this.is_multiple) {\n\t\t\treturn this.container_mousedown(evt);\n\t\t} else {\n\t\t\treturn this.activate_field();\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.results_option_build = function(options) {\n\t\tvar content, data, data_content, i, len, ref, shown_results;\n\t\tcontent = '';\n\t\tshown_results = 0;\n\t\tref = this.results_data;\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\t\tdata = ref[i];\n\t\t\tdata_content = '';\n\t\t\tif (data.group) {\n\t\t\tdata_content = this.result_add_group(data);\n\t\t\t} else {\n\t\t\tdata_content = this.result_add_option(data);\n\t\t\t}\n\t\t\tif (data_content !== '') {\n\t\t\tshown_results++;\n\t\t\tcontent += data_content;\n\t\t\t}\n\t\t\tif (options != null ? options.first : void 0) {\n\t\t\tif (data.selected && this.is_multiple) {\n\t\t\t\tthis.choice_build(data);\n\t\t\t} else if (data.selected && !this.is_multiple) {\n\t\t\t\tthis.single_set_selected_text(this.choice_label(data));\n\t\t\t}\n\t\t\t}\n\t\t\tif (shown_results >= this.max_shown_results) {\n\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn content;\n\t\t};\n\n\t\tAbstractChosen.prototype.result_add_option = function(option) {\n\t\tvar classes, option_el;\n\t\tif (!option.search_match) {\n\t\t\treturn '';\n\t\t}\n\t\tif (!this.include_option_in_results(option)) {\n\t\t\treturn '';\n\t\t}\n\t\tclasses = [];\n\t\tif (!option.disabled && !(option.selected && this.is_multiple)) {\n\t\t\tclasses.push(\"active-result\");\n\t\t}\n\t\tif (option.disabled && !(option.selected && this.is_multiple)) {\n\t\t\tclasses.push(\"disabled-result\");\n\t\t}\n\t\tif (option.selected) {\n\t\t\tclasses.push(\"result-selected\");\n\t\t}\n\t\tif (option.group_array_index != null) {\n\t\t\tclasses.push(\"group-option\");\n\t\t}\n\t\tif (option.classes !== \"\") {\n\t\t\tclasses.push(option.classes);\n\t\t}\n\t\toption_el = document.createElement(\"li\");\n\t\toption_el.className = classes.join(\" \");\n\t\tif (option.style) {\n\t\t\toption_el.style.cssText = option.style;\n\t\t}\n\t\toption_el.setAttribute(\"data-option-array-index\", option.array_index);\n\t\toption_el.innerHTML = option.highlighted_html || option.html;\n\t\tif (option.title) {\n\t\t\toption_el.title = option.title;\n\t\t}\n\t\treturn this.outerHTML(option_el);\n\t\t};\n\n\t\tAbstractChosen.prototype.result_add_group = function(group) {\n\t\tvar classes, group_el;\n\t\tif (!(group.search_match || group.group_match)) {\n\t\t\treturn '';\n\t\t}\n\t\tif (!(group.active_options > 0)) {\n\t\t\treturn '';\n\t\t}\n\t\tclasses = [];\n\t\tclasses.push(\"group-result\");\n\t\tif (group.classes) {\n\t\t\tclasses.push(group.classes);\n\t\t}\n\t\tgroup_el = document.createElement(\"li\");\n\t\tgroup_el.className = classes.join(\" \");\n\t\tgroup_el.innerHTML = group.highlighted_html || this.escape_html(group.label);\n\t\tif (group.title) {\n\t\t\tgroup_el.title = group.title;\n\t\t}\n\t\treturn this.outerHTML(group_el);\n\t\t};\n\n\t\tAbstractChosen.prototype.results_update_field = function() {\n\t\tthis.set_default_text();\n\t\tif (!this.is_multiple) {\n\t\t\tthis.results_reset_cleanup();\n\t\t}\n\t\tthis.result_clear_highlight();\n\t\tthis.results_build();\n\t\tif (this.results_showing) {\n\t\t\treturn this.winnow_results();\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.reset_single_select_options = function() {\n\t\tvar i, len, ref, result, results1;\n\t\tref = this.results_data;\n\t\tresults1 = [];\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\t\tresult = ref[i];\n\t\t\tif (result.selected) {\n\t\t\tresults1.push(result.selected = false);\n\t\t\t} else {\n\t\t\tresults1.push(void 0);\n\t\t\t}\n\t\t}\n\t\treturn results1;\n\t\t};\n\n\t\tAbstractChosen.prototype.results_toggle = function() {\n\t\tif (this.results_showing) {\n\t\t\treturn this.results_hide();\n\t\t} else {\n\t\t\treturn this.results_show();\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.results_search = function(evt) {\n\t\tif (this.results_showing) {\n\t\t\treturn this.winnow_results();\n\t\t} else {\n\t\t\treturn this.results_show();\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.winnow_results = function(options) {\n\t\tvar escapedQuery, fix, i, len, option, prefix, query, ref, regex, results, results_group, search_match, startpos, suffix, text;\n\t\tthis.no_results_clear();\n\t\tresults = 0;\n\t\tquery = this.get_search_text();\n\t\tescapedQuery = query.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n\t\tregex = this.get_search_regex(escapedQuery);\n\t\tref = this.results_data;\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\t\toption = ref[i];\n\t\t\toption.search_match = false;\n\t\t\tresults_group = null;\n\t\t\tsearch_match = null;\n\t\t\toption.highlighted_html = '';\n\t\t\tif (this.include_option_in_results(option)) {\n\t\t\tif (option.group) {\n\t\t\t\toption.group_match = false;\n\t\t\t\toption.active_options = 0;\n\t\t\t}\n\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\n\t\t\t\tresults_group = this.results_data[option.group_array_index];\n\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\n\t\t\t\tresults += 1;\n\t\t\t\t}\n\t\t\t\tresults_group.active_options += 1;\n\t\t\t}\n\t\t\ttext = option.group ? option.label : option.text;\n\t\t\tif (!(option.group && !this.group_search)) {\n\t\t\t\tsearch_match = this.search_string_match(text, regex);\n\t\t\t\toption.search_match = search_match != null;\n\t\t\t\tif (option.search_match && !option.group) {\n\t\t\t\tresults += 1;\n\t\t\t\t}\n\t\t\t\tif (option.search_match) {\n\t\t\t\tif (query.length) {\n\t\t\t\t\tstartpos = search_match.index;\n\t\t\t\t\tprefix = text.slice(0, startpos);\n\t\t\t\t\tfix = text.slice(startpos, startpos + query.length);\n\t\t\t\t\tsuffix = text.slice(startpos + query.length);\n\t\t\t\t\toption.highlighted_html = (this.escape_html(prefix)) + \"<em>\" + (this.escape_html(fix)) + \"</em>\" + (this.escape_html(suffix));\n\t\t\t\t}\n\t\t\t\tif (results_group != null) {\n\t\t\t\t\tresults_group.group_match = true;\n\t\t\t\t}\n\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\n\t\t\t\toption.search_match = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.result_clear_highlight();\n\t\tif (results < 1 && query.length) {\n\t\t\tthis.update_results_content(\"\");\n\t\t\treturn this.no_results(query);\n\t\t} else {\n\t\t\tthis.update_results_content(this.results_option_build());\n\t\t\tif (!(options != null ? options.skip_highlight : void 0)) {\n\t\t\treturn this.winnow_results_set_highlight();\n\t\t\t}\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.get_search_regex = function(escaped_search_string) {\n\t\tvar regex_flag, regex_string;\n\t\tregex_string = this.search_contains ? escaped_search_string : \"(^|\\\\s|\\\\b)\" + escaped_search_string + \"[^\\\\s]*\";\n\t\tif (!(this.enable_split_word_search || this.search_contains)) {\n\t\t\tregex_string = \"^\" + regex_string;\n\t\t}\n\t\tregex_flag = this.case_sensitive_search ? \"\" : \"i\";\n\t\treturn new RegExp(regex_string, regex_flag);\n\t\t};\n\n\t\tAbstractChosen.prototype.search_string_match = function(search_string, regex) {\n\t\tvar match;\n\t\tmatch = regex.exec(search_string);\n\t\tif (!this.search_contains && (match != null ? match[1] : void 0)) {\n\t\t\tmatch.index += 1;\n\t\t}\n\t\treturn match;\n\t\t};\n\n\t\tAbstractChosen.prototype.choices_count = function() {\n\t\tvar i, len, option, ref;\n\t\tif (this.selected_option_count != null) {\n\t\t\treturn this.selected_option_count;\n\t\t}\n\t\tthis.selected_option_count = 0;\n\t\tref = this.form_field.options;\n\t\tfor (i = 0, len = ref.length; i < len; i++) {\n\t\t\toption = ref[i];\n\t\t\tif (option.selected) {\n\t\t\tthis.selected_option_count += 1;\n\t\t\t}\n\t\t}\n\t\treturn this.selected_option_count;\n\t\t};\n\n\t\tAbstractChosen.prototype.choices_click = function(evt) {\n\t\tevt.preventDefault();\n\t\tthis.activate_field();\n\t\tif (!(this.results_showing || this.is_disabled)) {\n\t\t\treturn this.results_show();\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.keydown_checker = function(evt) {\n\t\tvar ref, stroke;\n\t\tstroke = (ref = evt.which) != null ? ref : evt.keyCode;\n\t\tthis.search_field_scale();\n\t\tif (stroke !== 8 && this.pending_backstroke) {\n\t\t\tthis.clear_backstroke();\n\t\t}\n\t\tswitch (stroke) {\n\t\t\tcase 8:\n\t\t\tthis.backstroke_length = this.get_search_field_value().length;\n\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\tif (this.results_showing && !this.is_multiple) {\n\t\t\t\tthis.result_select(evt);\n\t\t\t}\n\t\t\tthis.mouse_on_container = false;\n\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tif (this.results_showing) {\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 27:\n\t\t\tif (this.results_showing) {\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 32:\n\t\t\tif (this.disable_search) {\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\tevt.preventDefault();\n\t\t\tthis.keyup_arrow();\n\t\t\tbreak;\n\t\t\tcase 40:\n\t\t\tevt.preventDefault();\n\t\t\tthis.keydown_arrow();\n\t\t\tbreak;\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.keyup_checker = function(evt) {\n\t\tvar ref, stroke;\n\t\tstroke = (ref = evt.which) != null ? ref : evt.keyCode;\n\t\tthis.search_field_scale();\n\t\tswitch (stroke) {\n\t\t\tcase 8:\n\t\t\tif (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\n\t\t\t\tthis.keydown_backstroke();\n\t\t\t} else if (!this.pending_backstroke) {\n\t\t\t\tthis.result_clear_highlight();\n\t\t\t\tthis.results_search();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tevt.preventDefault();\n\t\t\tif (this.results_showing) {\n\t\t\t\tthis.result_select(evt);\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 27:\n\t\t\tif (this.results_showing) {\n\t\t\t\tthis.results_hide();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\tcase 16:\n\t\t\tcase 17:\n\t\t\tcase 18:\n\t\t\tcase 38:\n\t\t\tcase 40:\n\t\t\tcase 91:\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tthis.results_search();\n\t\t\tbreak;\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.clipboard_event_checker = function(evt) {\n\t\tif (this.is_disabled) {\n\t\t\treturn;\n\t\t}\n\t\treturn setTimeout(((function(_this) {\n\t\t\treturn function() {\n\t\t\treturn _this.results_search();\n\t\t\t};\n\t\t})(this)), 50);\n\t\t};\n\n\t\tAbstractChosen.prototype.container_width = function() {\n\t\tif (this.options.width != null) {\n\t\t\treturn this.options.width;\n\t\t} else {\n\t\t\treturn this.form_field.offsetWidth + \"px\";\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.include_option_in_results = function(option) {\n\t\tif (this.is_multiple && (!this.display_selected_options && option.selected)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.display_disabled_options && option.disabled) {\n\t\t\treturn false;\n\t\t}\n\t\tif (option.empty) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t\t};\n\n\t\tAbstractChosen.prototype.search_results_touchstart = function(evt) {\n\t\tthis.touch_started = true;\n\t\treturn this.search_results_mouseover(evt);\n\t\t};\n\n\t\tAbstractChosen.prototype.search_results_touchmove = function(evt) {\n\t\tthis.touch_started = false;\n\t\treturn this.search_results_mouseout(evt);\n\t\t};\n\n\t\tAbstractChosen.prototype.search_results_touchend = function(evt) {\n\t\tif (this.touch_started) {\n\t\t\treturn this.search_results_mouseup(evt);\n\t\t}\n\t\t};\n\n\t\tAbstractChosen.prototype.outerHTML = function(element) {\n\t\tvar tmp;\n\t\tif (element.outerHTML) {\n\t\t\treturn element.outerHTML;\n\t\t}\n\t\ttmp = document.createElement(\"div\");\n\t\ttmp.appendChild(element);\n\t\treturn tmp.innerHTML;\n\t\t};\n\n\t\tAbstractChosen.prototype.get_single_html = function() {\n\t\treturn \"<a class=\\\"chosen-single chosen-default\\\">\\n  <span>\" + this.default_text + \"</span>\\n  <div><b></b></div>\\n</a>\\n<div class=\\\"chosen-drop\\\">\\n  <div class=\\\"chosen-search\\\">\\n    <input class=\\\"chosen-search-input\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n  </div>\\n  <ul class=\\\"chosen-results\\\"></ul>\\n</div>\";\n\t\t};\n\n\t\tAbstractChosen.prototype.get_multi_html = function() {\n\t\treturn \"<ul class=\\\"chosen-choices\\\">\\n  <li class=\\\"search-field\\\">\\n    <input class=\\\"chosen-search-input\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" value=\\\"\" + this.default_text + \"\\\" />\\n  </li>\\n</ul>\\n<div class=\\\"chosen-drop\\\">\\n  <ul class=\\\"chosen-results\\\"></ul>\\n</div>\";\n\t\t};\n\n\t\tAbstractChosen.prototype.get_no_results_html = function(terms) {\n\t\treturn \"<li class=\\\"no-results\\\">\\n  \" + this.results_none_found + \" <span>\" + (this.escape_html(terms)) + \"</span>\\n</li>\";\n\t\t};\n\n\t\tAbstractChosen.browser_is_supported = function() {\n\t\tif (\"Microsoft Internet Explorer\" === window.navigator.appName) {\n\t\t\treturn document.documentMode >= 8;\n\t\t}\n\t\tif (/iP(od|hone)/i.test(window.navigator.userAgent) || /IEMobile/i.test(window.navigator.userAgent) || /Windows Phone/i.test(window.navigator.userAgent) || /BlackBerry/i.test(window.navigator.userAgent) || /BB10/i.test(window.navigator.userAgent) || /Android.*Mobile/i.test(window.navigator.userAgent)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t\t};\n\n\t\tAbstractChosen.default_multiple_text = \"Select Some Options\";\n\n\t\tAbstractChosen.default_single_text = \"Select an Option\";\n\n\t\tAbstractChosen.default_no_result_text = \"No results match\";\n\n\t\treturn AbstractChosen;\n\n\t})();\n\n\t$ = jQuery;\n\n\t$.fn.extend({\n\t\tchosen: function(options) {\n\t\tif (!AbstractChosen.browser_is_supported()) {\n\t\t\treturn this;\n\t\t}\n\t\treturn this.each(function(input_field) {\n\t\t\tvar $this, chosen;\n\t\t\t$this = $(this);\n\t\t\tchosen = $this.data('chosen');\n\t\t\tif (options === 'destroy') {\n\t\t\tif (chosen instanceof Chosen) {\n\t\t\t\tchosen.destroy();\n\t\t\t}\n\t\t\treturn;\n\t\t\t}\n\t\t\tif (!(chosen instanceof Chosen)) {\n\t\t\t$this.data('chosen', new Chosen(this, options));\n\t\t\t}\n\t\t});\n\t\t}\n\t});\n\n\tChosen = (function(superClass) {\n\t\textend(Chosen, superClass);\n\n\t\tfunction Chosen() {\n\t\treturn Chosen.__super__.constructor.apply(this, arguments);\n\t\t}\n\n\t\tChosen.prototype.setup = function() {\n\t\tthis.form_field_jq = $(this.form_field);\n\t\treturn this.current_selectedIndex = this.form_field.selectedIndex;\n\t\t};\n\n\t\tChosen.prototype.set_up_html = function() {\n\t\tvar container_classes, container_props;\n\t\tcontainer_classes = [\"chosen-container\"];\n\t\tcontainer_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\n\t\tif (this.inherit_select_classes && this.form_field.className) {\n\t\t\tcontainer_classes.push(this.form_field.className);\n\t\t}\n\t\tif (this.is_rtl) {\n\t\t\tcontainer_classes.push(\"chosen-rtl\");\n\t\t}\n\t\tcontainer_props = {\n\t\t\t'class': container_classes.join(' '),\n\t\t\t'title': this.form_field.title\n\t\t};\n\t\tif (this.form_field.id.length) {\n\t\t\tcontainer_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\n\t\t}\n\t\tthis.container = $(\"<div />\", container_props);\n\t\tthis.container.width('100%');\n\t\tif (this.is_multiple) {\n\t\t\tthis.container.html(this.get_multi_html());\n\t\t} else {\n\t\t\tthis.container.html(this.get_single_html());\n\t\t}\n\t\tthis.form_field_jq.hide().after(this.container);\n\t\tthis.dropdown = this.container.find('div.chosen-drop').first();\n\t\tthis.search_field = this.container.find('input').first();\n\t\tthis.search_results = this.container.find('ul.chosen-results').first();\n\t\tthis.search_field_scale();\n\t\tthis.search_no_results = this.container.find('li.no-results').first();\n\t\tif (this.is_multiple) {\n\t\t\tthis.search_choices = this.container.find('ul.chosen-choices').first();\n\t\t\tthis.search_container = this.container.find('li.search-field').first();\n\t\t} else {\n\t\t\tthis.search_container = this.container.find('div.chosen-search').first();\n\t\t\tthis.selected_item = this.container.find('.chosen-single').first();\n\t\t}\n\t\tthis.results_build();\n\t\tthis.set_tab_index();\n\t\treturn this.set_label_behavior();\n\t\t};\n\n\t\tChosen.prototype.on_ready = function() {\n\t\treturn this.form_field_jq.trigger(\"chosen:ready\", {\n\t\t\tchosen: this\n\t\t});\n\t\t};\n\n\t\tChosen.prototype.register_observers = function() {\n\t\tthis.container.on('touchstart.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.container_mousedown(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.container.on('touchend.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.container_mouseup(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.container.on('mousedown.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.container_mousedown(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.container.on('mouseup.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.container_mouseup(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.container.on('mouseenter.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.mouse_enter(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.container.on('mouseleave.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.mouse_leave(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('mouseup.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_mouseup(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('mouseover.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_mouseover(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('mouseout.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_mouseout(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('mousewheel.chosen DOMMouseScroll.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_mousewheel(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('touchstart.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_touchstart(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('touchmove.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_touchmove(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_results.on('touchend.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.search_results_touchend(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.form_field_jq.on(\"chosen:updated.chosen\", (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.results_update_field(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.form_field_jq.on(\"chosen:activate.chosen\", (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.activate_field(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.form_field_jq.on(\"chosen:open.chosen\", (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.container_mousedown(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.form_field_jq.on(\"chosen:close.chosen\", (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.close_field(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('blur.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.input_blur(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('keyup.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.keyup_checker(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('keydown.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.keydown_checker(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('focus.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.input_focus(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('cut.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.clipboard_event_checker(evt);\n\t\t\t};\n\t\t})(this));\n\t\tthis.search_field.on('paste.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t_this.clipboard_event_checker(evt);\n\t\t\t};\n\t\t})(this));\n\t\tif (this.is_multiple) {\n\t\t\treturn this.search_choices.on('click.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t\t_this.choices_click(evt);\n\t\t\t};\n\t\t\t})(this));\n\t\t} else {\n\t\t\treturn this.container.on('click.chosen', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t\t});\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.destroy = function() {\n\t\t$(this.container[0].ownerDocument).off('click.chosen', this.click_test_action);\n\t\tif (this.form_field_label.length > 0) {\n\t\t\tthis.form_field_label.off('click.chosen');\n\t\t}\n\t\tif (this.search_field[0].tabIndex) {\n\t\t\tthis.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\n\t\t}\n\t\tthis.container.remove();\n\t\tthis.form_field_jq.removeData('chosen');\n\t\treturn this.form_field_jq.show();\n\t\t};\n\n\t\tChosen.prototype.search_field_disabled = function() {\n\t\tthis.is_disabled = this.form_field.disabled || this.form_field_jq.parents('fieldset').is(':disabled');\n\t\tthis.container.toggleClass('chosen-disabled', this.is_disabled);\n\t\tthis.search_field[0].disabled = this.is_disabled;\n\t\tif (!this.is_multiple) {\n\t\t\tthis.selected_item.off('focus.chosen', this.activate_field);\n\t\t}\n\t\tif (this.is_disabled) {\n\t\t\treturn this.close_field();\n\t\t} else if (!this.is_multiple) {\n\t\t\treturn this.selected_item.on('focus.chosen', this.activate_field);\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.container_mousedown = function(evt) {\n\t\tvar ref;\n\t\tif (this.is_disabled) {\n\t\t\treturn;\n\t\t}\n\t\tif (evt && ((ref = evt.type) === 'mousedown' || ref === 'touchstart') && !this.results_showing) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t\tif (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\n\t\t\tif (!this.active_field) {\n\t\t\tif (this.is_multiple) {\n\t\t\t\tthis.search_field.val(\"\");\n\t\t\t}\n\t\t\t$(this.container[0].ownerDocument).on('click.chosen', this.click_test_action);\n\t\t\tthis.results_show();\n\t\t\t} else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\n\t\t\tevt.preventDefault();\n\t\t\tthis.results_toggle();\n\t\t\t}\n\t\t\treturn this.activate_field();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.container_mouseup = function(evt) {\n\t\tif (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\n\t\t\treturn this.results_reset(evt);\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.search_results_mousewheel = function(evt) {\n\t\tvar delta;\n\t\tif (evt.originalEvent) {\n\t\t\tdelta = evt.originalEvent.deltaY || -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\n\t\t}\n\t\tif (delta != null) {\n\t\t\tevt.preventDefault();\n\t\t\tif (evt.type === 'DOMMouseScroll') {\n\t\t\tdelta = delta * 40;\n\t\t\t}\n\t\t\treturn this.search_results.scrollTop(delta + this.search_results.scrollTop());\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.blur_test = function(evt) {\n\t\tif (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\n\t\t\treturn this.close_field();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.close_field = function() {\n\t\t$(this.container[0].ownerDocument).off(\"click.chosen\", this.click_test_action);\n\t\tthis.active_field = false;\n\t\tthis.results_hide();\n\t\tthis.container.removeClass(\"chosen-container-active\");\n\t\tthis.clear_backstroke();\n\t\tthis.show_search_field_default();\n\t\tthis.search_field_scale();\n\t\treturn this.search_field.blur();\n\t\t};\n\n\t\tChosen.prototype.activate_field = function() {\n\t\tif (this.is_disabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis.container.addClass(\"chosen-container-active\");\n\t\tthis.active_field = true;\n\t\tthis.search_field.val(this.search_field.val());\n\t\treturn this.search_field.focus();\n\t\t};\n\n\t\tChosen.prototype.test_active_click = function(evt) {\n\t\tvar active_container;\n\t\tactive_container = $(evt.target).closest('.chosen-container');\n\t\tif (active_container.length && this.container[0] === active_container[0]) {\n\t\t\treturn this.active_field = true;\n\t\t} else {\n\t\t\treturn this.close_field();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.results_build = function() {\n\t\tthis.parsing = true;\n\t\tthis.selected_option_count = null;\n\t\tthis.results_data = SelectParser.select_to_array(this.form_field);\n\t\tif (this.is_multiple) {\n\t\t\tthis.search_choices.find(\"li.search-choice\").remove();\n\t\t} else {\n\t\t\tthis.single_set_selected_text();\n\t\t\tif (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\n\t\t\tthis.search_field[0].readOnly = true;\n\t\t\tthis.container.addClass(\"chosen-container-single-nosearch\");\n\t\t\t} else {\n\t\t\tthis.search_field[0].readOnly = false;\n\t\t\tthis.container.removeClass(\"chosen-container-single-nosearch\");\n\t\t\t}\n\t\t}\n\t\tthis.update_results_content(this.results_option_build({\n\t\t\tfirst: true\n\t\t}));\n\t\tthis.search_field_disabled();\n\t\tthis.show_search_field_default();\n\t\tthis.search_field_scale();\n\t\treturn this.parsing = false;\n\t\t};\n\n\t\tChosen.prototype.result_do_highlight = function(el) {\n\t\tvar high_bottom, high_top, maxHeight, visible_bottom, visible_top;\n\t\tif (el.length) {\n\t\t\tthis.result_clear_highlight();\n\t\t\tthis.result_highlight = el;\n\t\t\tthis.result_highlight.addClass(\"highlighted\");\n\t\t\tmaxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\n\t\t\tvisible_top = this.search_results.scrollTop();\n\t\t\tvisible_bottom = maxHeight + visible_top;\n\t\t\thigh_top = this.result_highlight.position().top + this.search_results.scrollTop();\n\t\t\thigh_bottom = high_top + this.result_highlight.outerHeight();\n\t\t\tif (high_bottom >= visible_bottom) {\n\t\t\treturn this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\n\t\t\t} else if (high_top < visible_top) {\n\t\t\treturn this.search_results.scrollTop(high_top);\n\t\t\t}\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.result_clear_highlight = function() {\n\t\tif (this.result_highlight) {\n\t\t\tthis.result_highlight.removeClass(\"highlighted\");\n\t\t}\n\t\treturn this.result_highlight = null;\n\t\t};\n\n\t\tChosen.prototype.results_show = function() {\n\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\n\t\t\tchosen: this\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\t\tthis.container.addClass(\"chosen-with-drop\");\n\t\tthis.results_showing = true;\n\t\tthis.search_field.focus();\n\t\tthis.search_field.val(this.get_search_field_value());\n\t\tthis.winnow_results();\n\t\treturn this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\n\t\t\tchosen: this\n\t\t});\n\t\t};\n\n\t\tChosen.prototype.update_results_content = function(content) {\n\t\treturn this.search_results.html(content);\n\t\t};\n\n\t\tChosen.prototype.results_hide = function() {\n\t\tif (this.results_showing) {\n\t\t\tthis.result_clear_highlight();\n\t\t\tthis.container.removeClass(\"chosen-with-drop\");\n\t\t\tthis.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\n\t\t\tchosen: this\n\t\t\t});\n\t\t}\n\t\treturn this.results_showing = false;\n\t\t};\n\n\t\tChosen.prototype.set_tab_index = function(el) {\n\t\tvar ti;\n\t\tif (this.form_field.tabIndex) {\n\t\t\tti = this.form_field.tabIndex;\n\t\t\tthis.form_field.tabIndex = -1;\n\t\t\treturn this.search_field[0].tabIndex = ti;\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.set_label_behavior = function() {\n\t\tthis.form_field_label = this.form_field_jq.parents(\"label\");\n\t\tif (!this.form_field_label.length && this.form_field.id.length) {\n\t\t\tthis.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\n\t\t}\n\t\tif (this.form_field_label.length > 0) {\n\t\t\treturn this.form_field_label.on('click.chosen', this.label_click_handler);\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.show_search_field_default = function() {\n\t\tif (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\n\t\t\tthis.search_field.val(this.default_text);\n\t\t\treturn this.search_field.addClass(\"default\");\n\t\t} else {\n\t\t\tthis.search_field.val(\"\");\n\t\t\treturn this.search_field.removeClass(\"default\");\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.search_results_mouseup = function(evt) {\n\t\tvar target;\n\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\n\t\tif (target.length) {\n\t\t\tthis.result_highlight = target;\n\t\t\tthis.result_select(evt);\n\t\t\treturn this.search_field.focus();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.search_results_mouseover = function(evt) {\n\t\tvar target;\n\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\n\t\tif (target) {\n\t\t\treturn this.result_do_highlight(target);\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.search_results_mouseout = function(evt) {\n\t\tif ($(evt.target).hasClass(\"active-result\") || $(evt.target).parents('.active-result').first()) {\n\t\t\treturn this.result_clear_highlight();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.choice_build = function(item) {\n\t\tvar choice, close_link;\n\t\tchoice = $('<li />', {\n\t\t\t\"class\": \"search-choice\"\n\t\t}).html(\"<span>\" + (this.choice_label(item)) + \"</span>\");\n\t\tif (item.disabled) {\n\t\t\tchoice.addClass('search-choice-disabled');\n\t\t} else {\n\t\t\tclose_link = $('<a />', {\n\t\t\t\"class\": 'search-choice-close',\n\t\t\t'data-option-array-index': item.array_index\n\t\t\t});\n\t\t\tclose_link.on('click.chosen', (function(_this) {\n\t\t\treturn function(evt) {\n\t\t\t\treturn _this.choice_destroy_link_click(evt);\n\t\t\t};\n\t\t\t})(this));\n\t\t\tchoice.append(close_link);\n\t\t}\n\t\treturn this.search_container.before(choice);\n\t\t};\n\n\t\tChosen.prototype.choice_destroy_link_click = function(evt) {\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\t\tif (!this.is_disabled) {\n\t\t\treturn this.choice_destroy($(evt.target));\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.choice_destroy = function(link) {\n\t\tif (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\n\t\t\tif (this.active_field) {\n\t\t\tthis.search_field.focus();\n\t\t\t} else {\n\t\t\tthis.show_search_field_default();\n\t\t\t}\n\t\t\tif (this.is_multiple && this.choices_count() > 0 && this.get_search_field_value().length < 1) {\n\t\t\tthis.results_hide();\n\t\t\t}\n\t\t\tlink.parents('li').first().remove();\n\t\t\treturn this.search_field_scale();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.results_reset = function() {\n\t\tthis.reset_single_select_options();\n\t\tthis.form_field.options[0].selected = true;\n\t\tthis.single_set_selected_text();\n\t\tthis.show_search_field_default();\n\t\tthis.results_reset_cleanup();\n\t\tthis.trigger_form_field_change();\n\t\tif (this.active_field) {\n\t\t\treturn this.results_hide();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.results_reset_cleanup = function() {\n\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\n\t\treturn this.selected_item.find(\"abbr\").remove();\n\t\t};\n\n\t\tChosen.prototype.result_select = function(evt) {\n\t\tvar high, item;\n\t\tif (this.result_highlight) {\n\t\t\thigh = this.result_highlight;\n\t\t\tthis.result_clear_highlight();\n\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\n\t\t\t\tchosen: this\n\t\t\t});\n\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.is_multiple) {\n\t\t\thigh.removeClass(\"active-result\");\n\t\t\t} else {\n\t\t\tthis.reset_single_select_options();\n\t\t\t}\n\t\t\thigh.addClass(\"result-selected\");\n\t\t\titem = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\n\t\t\titem.selected = true;\n\t\t\tthis.form_field.options[item.options_index].selected = true;\n\t\t\tthis.selected_option_count = null;\n\t\t\tif (this.is_multiple) {\n\t\t\tthis.choice_build(item);\n\t\t\t} else {\n\t\t\tthis.single_set_selected_text(this.choice_label(item));\n\t\t\t}\n\t\t\tif (this.is_multiple && (!this.hide_results_on_select || (evt.metaKey || evt.ctrlKey))) {\n\t\t\tif (evt.metaKey || evt.ctrlKey) {\n\t\t\t\tthis.winnow_results({\n\t\t\t\tskip_highlight: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.search_field.val(\"\");\n\t\t\t\tthis.winnow_results();\n\t\t\t}\n\t\t\t} else {\n\t\t\tthis.results_hide();\n\t\t\tthis.show_search_field_default();\n\t\t\t}\n\t\t\tif (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\n\t\t\tthis.trigger_form_field_change({\n\t\t\t\tselected: this.form_field.options[item.options_index].value\n\t\t\t});\n\t\t\t}\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\n\t\t\tevt.preventDefault();\n\t\t\treturn this.search_field_scale();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.single_set_selected_text = function(text) {\n\t\tif (text == null) {\n\t\t\ttext = this.default_text;\n\t\t}\n\t\tif (text === this.default_text) {\n\t\t\tthis.selected_item.addClass(\"chosen-default\");\n\t\t} else {\n\t\t\tthis.single_deselect_control_build();\n\t\t\tthis.selected_item.removeClass(\"chosen-default\");\n\t\t}\n\t\treturn this.selected_item.find(\"span\").html(text);\n\t\t};\n\n\t\tChosen.prototype.result_deselect = function(pos) {\n\t\tvar result_data;\n\t\tresult_data = this.results_data[pos];\n\t\tif (!this.form_field.options[result_data.options_index].disabled) {\n\t\t\tresult_data.selected = false;\n\t\t\tthis.form_field.options[result_data.options_index].selected = false;\n\t\t\tthis.selected_option_count = null;\n\t\t\tthis.result_clear_highlight();\n\t\t\tif (this.results_showing) {\n\t\t\tthis.winnow_results();\n\t\t\t}\n\t\t\tthis.trigger_form_field_change({\n\t\t\tdeselected: this.form_field.options[result_data.options_index].value\n\t\t\t});\n\t\t\tthis.search_field_scale();\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.single_deselect_control_build = function() {\n\t\tif (!this.allow_single_deselect) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.selected_item.find(\"abbr\").length) {\n\t\t\tthis.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\n\t\t}\n\t\treturn this.selected_item.addClass(\"chosen-single-with-deselect\");\n\t\t};\n\n\t\tChosen.prototype.get_search_field_value = function() {\n\t\treturn this.search_field.val();\n\t\t};\n\n\t\tChosen.prototype.get_search_text = function() {\n\t\treturn $.trim(this.get_search_field_value());\n\t\t};\n\n\t\tChosen.prototype.escape_html = function(text) {\n\t\treturn $('<div/>').text(text).html();\n\t\t};\n\n\t\tChosen.prototype.winnow_results_set_highlight = function() {\n\t\tvar do_high, selected_results;\n\t\tselected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\n\t\tdo_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\n\t\tif (do_high != null) {\n\t\t\treturn this.result_do_highlight(do_high);\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.no_results = function(terms) {\n\t\tvar no_results_html;\n\t\tno_results_html = this.get_no_results_html(terms);\n\t\tthis.search_results.append(no_results_html);\n\t\treturn this.form_field_jq.trigger(\"chosen:no_results\", {\n\t\t\tchosen: this\n\t\t});\n\t\t};\n\n\t\tChosen.prototype.no_results_clear = function() {\n\t\treturn this.search_results.find(\".no-results\").remove();\n\t\t};\n\n\t\tChosen.prototype.keydown_arrow = function() {\n\t\tvar next_sib;\n\t\tif (this.results_showing && this.result_highlight) {\n\t\t\tnext_sib = this.result_highlight.nextAll(\"li.active-result\").first();\n\t\t\tif (next_sib) {\n\t\t\treturn this.result_do_highlight(next_sib);\n\t\t\t}\n\t\t} else {\n\t\t\treturn this.results_show();\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.keyup_arrow = function() {\n\t\tvar prev_sibs;\n\t\tif (!this.results_showing && !this.is_multiple) {\n\t\t\treturn this.results_show();\n\t\t} else if (this.result_highlight) {\n\t\t\tprev_sibs = this.result_highlight.prevAll(\"li.active-result\");\n\t\t\tif (prev_sibs.length) {\n\t\t\treturn this.result_do_highlight(prev_sibs.first());\n\t\t\t} else {\n\t\t\tif (this.choices_count() > 0) {\n\t\t\t\tthis.results_hide();\n\t\t\t}\n\t\t\treturn this.result_clear_highlight();\n\t\t\t}\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.keydown_backstroke = function() {\n\t\tvar next_available_destroy;\n\t\tif (this.pending_backstroke) {\n\t\t\tthis.choice_destroy(this.pending_backstroke.find(\"a\").first());\n\t\t\treturn this.clear_backstroke();\n\t\t} else {\n\t\t\tnext_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\n\t\t\tif (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\n\t\t\tthis.pending_backstroke = next_available_destroy;\n\t\t\tif (this.single_backstroke_delete) {\n\t\t\t\treturn this.keydown_backstroke();\n\t\t\t} else {\n\t\t\t\treturn this.pending_backstroke.addClass(\"search-choice-focus\");\n\t\t\t}\n\t\t\t}\n\t\t}\n\t\t};\n\n\t\tChosen.prototype.clear_backstroke = function() {\n\t\tif (this.pending_backstroke) {\n\t\t\tthis.pending_backstroke.removeClass(\"search-choice-focus\");\n\t\t}\n\t\treturn this.pending_backstroke = null;\n\t\t};\n\n\t\tChosen.prototype.search_field_scale = function() {\n\t\tvar div, i, len, style, style_block, styles, width;\n\t\tif (!this.is_multiple) {\n\t\t\treturn;\n\t\t}\n\t\tstyle_block = {\n\t\t\tposition: 'absolute',\n\t\t\tleft: '-1000px',\n\t\t\ttop: '-1000px',\n\t\t\tdisplay: 'none',\n\t\t\twhiteSpace: 'pre'\n\t\t};\n\t\tstyles = ['fontSize', 'fontStyle', 'fontWeight', 'fontFamily', 'lineHeight', 'textTransform', 'letterSpacing'];\n\t\tfor (i = 0, len = styles.length; i < len; i++) {\n\t\t\tstyle = styles[i];\n\t\t\tstyle_block[style] = this.search_field.css(style);\n\t\t}\n\t\tdiv = $('<div />').css(style_block);\n\t\tdiv.text(this.get_search_field_value());\n\t\t$('body').append(div);\n\t\twidth = div.width() + 25;\n\t\tdiv.remove();\n\t\tif (this.container.is(':visible')) {\n\t\t\twidth = Math.min(this.container.outerWidth() - 10, width);\n\t\t}\n\t\treturn this.search_field.width(width);\n\t\t};\n\n\t\tChosen.prototype.trigger_form_field_change = function(extra) {\n\t\tthis.form_field_jq.trigger(\"input\", extra);\n\t\treturn this.form_field_jq.trigger(\"change\", extra);\n\t\t};\n\n\t\treturn Chosen;\n\n\t})(AbstractChosen);\n\n\t}).call(this);\n    \n});"],"file":"choisen.min.js"}